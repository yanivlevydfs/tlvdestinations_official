<!DOCTYPE html>
<html lang="{{ lang | default('en') }}" dir="{{ 'rtl' if lang == 'he' else 'ltr' }}">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <title>{{ title | default("Fly TLV â†’ Worldwide Destinations") }}</title>
  <meta name="description" content="{{ description | default('Explore all direct destinations from Tel Aviv (TLV) worldwide â€” schedules, airlines, maps, and travel insights.') }}">
  <meta name="keywords" content="flights, Tel Aviv, TLV, destinations, airports, airlines, worldwide travel" />
  <meta name="robots" content="index,follow" />

  <!-- Favicon -->
  <link rel="icon" href="/static/favicon.ico" />
  	<!-- Standard favicon (still needed) -->
	<link rel="manifest" href="/manifest.json">
	<link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png">
	<!-- Android Chrome / PWA -->
	<link rel="icon" type="image/png" sizes="192x192" href="/static/icons/icon-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="/static/icons/icon-512x512.png">
	<!-- iOS Safari (Home Screen icon) -->
	<link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png">

  <!-- Canonical & Hreflang -->
  <link rel="canonical" href="https://fly-tlv.com{{ request.url.path }}{{ '?lang=he' if lang == 'he' else '' }}" />
  <link rel="alternate" href="https://fly-tlv.com/" hreflang="en" />
  <link rel="alternate" href="https://fly-tlv.com/?lang=he" hreflang="he" />
  <link rel="alternate" href="https://fly-tlv.com/" hreflang="x-default" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://fly-tlv.com/" />
  <meta property="og:title" content="{{ title | default('Flights Explorer â€” All TLV Destinations Worldwide') }}" />
  <meta property="og:description" content="{{ description | default('Discover all direct destinations from Tel Aviv (TLV) across the globe with maps, airlines, and travel details.') }}" />
  <meta property="og:image" content="https://fly-tlv.com/static/og/flytlv_world.jpg" />
  <meta property="og:image:alt" content="{{ 'Map of worldwide destinations from Tel Aviv (TLV)' if lang != 'he' else '××¤×ª ×›×œ ×”×™×¢×“×™× ×‘×¢×•×œ× ××ª×œ ××‘×™×‘' }}" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ title | default('Flights Explorer â€” All TLV Destinations Worldwide') }}" />
  <meta name="twitter:description" content="{{ description | default('Direct worldwide destinations from Tel Aviv (TLV) with airlines, maps, and travel insights.') }}" />
  <meta name="twitter:image" content="https://fly-tlv.com/static/og/flytlv_world.jpg" />
  <meta name="twitter:image:alt" content="{{ 'Map of worldwide destinations from Tel Aviv (TLV)' if lang != 'he' else '××¤×ª ×›×œ ×”×™×¢×“×™× ×‘×¢×•×œ× ××ª×œ ××‘×™×‘' }}" />

  <!-- Ads -->
  <meta name="google-adsense-account" content="ca-pub-7964221655161384" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7964221655161384" crossorigin="anonymous"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', path='css/app.css') }}?v={{ time.time() }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.bootstrap5.min.css" />

  <!-- JS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.bootstrap5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.colVis.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>


  <!-- Structured Data: Dataset -->
<script type="application/ld+json">
[
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Fly TLV â€” Worldwide Destinations Explorer",
    "url": "https://fly-tlv.com/",
    "inLanguage": "en-US",
    "description": "Explore all destinations worldwide from Tel Aviv (TLV) with airlines, maps, distances, and travel data."
  },
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Fly TLV â€” ×›×œ ×”×™×¢×“×™× ××ª×œ ××‘×™×‘",
    "url": "https://fly-tlv.com/?lang=he",
    "inLanguage": "he-IL",
    "description": "×’×œ×” ××ª ×›×œ ×”×™×¢×“×™× ×‘×¢×•×œ× ××ª×œ ××‘×™×‘ (TLV): ×—×‘×¨×•×ª ×ª×¢×•×¤×”, ××¤×•×ª, ××¨×—×§×™× ×•× ×ª×•× ×™ ×˜×™×¡×”."
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Destinations Board",
    "url": "https://fly-tlv.com/destinations"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "×œ×•×— ×™×¢×“×™×",
    "url": "https://fly-tlv.com/destinations?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "World Map",
    "url": "https://fly-tlv.com/map"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "××¤×ª ×™×¢×“×™×",
    "url": "https://fly-tlv.com/map?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Travel Warnings",
    "url": "https://fly-tlv.com/travel-warnings"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "××–×”×¨×•×ª ××¡×¢",
    "url": "https://fly-tlv.com/travel-warnings?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Chat",
    "url": "https://fly-tlv.com/chat"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "×¦×³××˜",
    "url": "https://fly-tlv.com/chat?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "About",
    "url": "https://fly-tlv.com/about"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "×¢×œ×™× ×•",
    "url": "https://fly-tlv.com/about?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Privacy Policy",
    "url": "https://fly-tlv.com/privacy"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "××“×™× ×™×•×ª ×¤×¨×˜×™×•×ª",
    "url": "https://fly-tlv.com/privacy?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Contact",
    "url": "https://fly-tlv.com/contact"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "×¦×•×¨ ×§×©×¨",
    "url": "https://fly-tlv.com/contact?lang=he"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "Sitemap",
    "url": "https://fly-tlv.com/sitemap.xml"
  },
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": "××¤×ª ××ª×¨",
    "url": "https://fly-tlv.com/sitemap.xml"
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is Fly TLV?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Fly TLV is a travel insights platform listing all direct flight destinations from Ben Gurion Airport (TLV) with airlines, flight times, and distances."
        }
      },
      {
        "@type": "Question",
        "name": "Can I book flights through Fly TLV?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. Fly TLV does not sell tickets but provides verified links to airlines and booking sites."
        }
      },
      {
        "@type": "Question",
        "name": "Which airlines fly from Tel Aviv?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Airlines from TLV include El Al, Arkia, Israir, Lufthansa, Emirates, Turkish Airlines, and more."
        }
      },
      {
        "@type": "Question",
        "name": "Are the destinations updated regularly?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Fly TLV updates its data frequently according to official airline schedules."
        }
      },
      {
        "@type": "Question",
        "name": "What is the difference between direct and nonstop flights?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Nonstop flights have no stops between TLV and the destination; direct flights may include short stopovers but stay on the same plane."
        }
      }
    ]
  }
]
</script>
<style>
#brand-title {
  font-size: 1.5rem;
  font-weight: 600;
  white-space: nowrap;
}

/* Mobile (â‰¤576px) */
@media (max-width: 576px) {
  .navbar .container {
    flex-direction: column !important;
    align-items: center !important;
    text-align: center;
  }

  #brand-title {
    font-size: 1.2rem;
    justify-content: center;
  }
}

/* Tiny screens (â‰¤400px) */
@media (max-width: 400px) {
  #brand-title {
    font-size: 1rem;
  }
}
/* Global override for all dark mode text */
body.dark-mode, 
body.dark-mode * {
  color: #ffffff !important;
}

/* Fix Bootstrap badges and nav background */
body.dark-mode .bg-light,
body.dark-mode .bg-body,
body.dark-mode .navbar,
body.dark-mode .card-header,
body.dark-mode .badge,
body.dark-mode .footer-bg {
  background-color: #1f1f1f !important;
  color: #ffffff !important;
}

/* Fix Bootstrap class overrides */
body.dark-mode .text-dark {
  color: #ffffff !important;
}
body.dark-mode .text-muted {
  color: #b0b0b0 !important;
}
.footer-link[aria-current="page"] {
  font-weight: 600;
  color: var(--bs-primary) !important;
  text-decoration: underline;
}
/* ğŸ”µ Improve outline button colors in dark mode */
body.dark-mode .btn-outline-primary {
  color: #93c5fd !important;           /* soft blue text */
  border-color: #60a5fa !important;    /* light blue border */
}

body.dark-mode .btn-outline-primary:hover {
  background-color: #1e40af !important; /* blue-800 */
  color: #ffffff !important;
  border-color: #3b82f6 !important;
}

/* ğŸŒ’ Fix icon color inside buttons */
body.dark-mode .btn-outline-primary i {
  color: #60a5fa !important;  /* soft yellow for moon/globe/etc */
}
/* ğŸ§  Ensure .btn-outline-primary colors the text even in RTL layout */
body.dark-mode .btn-outline-primary,
body.dark-mode .btn-outline-primary span,
body.dark-mode .btn-outline-primary strong {
  color: #93c5fd !important;
}

</style>

</head>

<body>
  <!-- âœ… NAVBAR -->
  <nav class="navbar navbar-expand-lg border-bottom sticky-top bg-body">
    <div class="container-fluid">
      <a id="brand-title" class="navbar-brand d-flex align-items-center" href="/">
        <i class="bi bi-airplane-engines me-2"></i>Fly TLV â†’ Worldwide Destinations
      </a>
<div class="d-flex align-items-center justify-content-center gap-2">
<button id="view-map-btn" class="btn btn-outline-primary">
  <i class="bi bi-globe-americas me-1"></i> 
  {{ 'View Map' if lang != 'he' else '×¦×¤×” ×‘××¤×”' }}
</button>

<button id="ai-chat-btn" class="btn btn-outline-primary" type="button">
  <i class="bi bi-robot me-1"></i> 
  {{ 'Ask AI' if lang != 'he' else '×©××œ ××ª ×”×‘×•×˜' }}
</button>

<button id="theme-toggle" class="btn btn-outline-primary" type="button" aria-label="Toggle theme">
  <i id="theme-icon" class="bi bi-moon-stars me-1"></i> 
  {{ 'Theme' if lang != 'he' else '×¢×¨×›×ª × ×•×©×' }}
</button>

<button id="lang-toggle" class="btn btn-outline-primary" type="button" aria-label="Toggle language">
  <i class="bi bi-translate me-1"></i> 
  <span id="lang-label">{{ '×¢×‘×¨×™×ª' if lang != 'he' else 'English' }}</span>
</button>
</div>
    </div>
  </nav>

  <!-- âœ… MAIN CONTENT -->
  <main class="container-fluid mt-4 px-3" role="main">
    {% block content %}{% endblock %}
  </main>

<!-- âœ… FOOTER -->
<footer class="mt-3 border-top footer-bg">
  <!-- First container -->
  <div class="container py-4 d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div class="mb-3 mb-md-0">
      <div class="d-flex align-items-center">
        <i class="bi bi-airplane-engines text-primary me-3 fs-5"></i>
        <span id="footer-brand" class="fw-semibold">
          {{ "Fly TLV â†’ Worldwide Destinations" if lang != 'he' else "TLV â†’ ××’×œ×” ×™×¢×“×™× ×‘×¢×•×œ×" }}
        </span>
      </div>
      <div id="footer-tagline" class="small text-muted mt-1">
        {{ "Real routes, distances & estimated flight times." if lang != 'he' else "× ×ª×™×‘×™ ×˜×™×¡×” ×××™×ª×™×™×, ××¨×—×§×™× ×•×–×× ×™ ×˜×™×¡×” ××©×•×¢×¨×™×." }}
      </div>
    </div>

    <div class="col-md-7">
      <div id="footer-marketing">
        {% if lang == "he" %}
        âœˆï¸ <strong>×”×“×¨×š ×”×—×›××” ×œ×’×œ×•×ª ×™×¢×“×™× ×™×©×™×¨×™× ××ª×œ ××‘×™×‘ (TLV)</strong><br>
        ×—×™×¤×•×© ×˜×™×¡×•×ª ×™×›×•×œ ×œ×”×™×•×ª ××‘×œ×‘×œ â€” ××™×œ×• ×—×‘×¨×•×ª ×‘×××ª ××¤×¢×™×œ×•×ª ××ª ×”×§×•, ×‘××™×œ×• ×™××™× × ×™×ª×Ÿ ×œ×˜×•×¡, ×•×”×× ×–×• ×˜×™×¡×” ×™×©×™×¨×” ××• ×¨×§ ×§×•×“Ö¾×©×™×™×¨.
		<br>
        ×‘Ö¾<a href="https://fly-tlv.com" class="fw-bold text-decoration-none" target="_blank" rel="noopener">Fly-TLV.com</a>
        ×× ×—× ×• ×¢×•×©×™× ××ª ×–×” ×¤×©×•×˜: ××‘×˜ ×‘×¨×•×¨ ×¢×œ ×›×œ ×”×™×¢×“×™× ×”×™×©×™×¨×™× ×× ×ª×‘×´×’ â€” ×›×•×œ×œ ×—×‘×¨×•×ª ×ª×¢×•×¤×”, ×œ×•×—×•×ª ×–×× ×™×, ××¨×—×§×™× ×•×–×× ×™ ×˜×™×¡×” ××©×•×¢×¨×™×.  
        ×›×œ ×”××™×“×¢ ×‘××§×•× ××—×“, ×›×“×™ ×©×ª×•×›×œ×• ×œ×ª×›× ×Ÿ ××ª ×”×˜×™×•×œ ×”×‘× ×©×œ×›× ×‘×‘×™×˜×—×•×Ÿ.
        {% else %}
        âœˆï¸ <strong>The smart way to explore direct destinations from Tel Aviv (TLV)</strong><br>
        Finding the right destination can be confusing â€” which airlines actually serve the route, on what days, and whether itâ€™s truly non-stop or just a codeshare.
		<br>
        At <a href="https://fly-tlv.com" class="fw-bold text-decoration-none" target="_blank" rel="noopener">Fly-TLV.com</a>,
        we make it simple: a clear overview of all nonstop destinations from Ben Gurion Airport â€” including airlines, schedules, distances, and estimated flight times.  
        Everything in one place, so you can plan your next trip with confidence.
        {% endif %}
      </div>
    </div>
  </div> <!-- âœ… closes first .container -->

<!-- ğŸ“¦ Organized Footer Navigation -->
<div class="container">
  <nav class="footer-nav small mb-3 mb-md-0" aria-label="Footer navigation">
    <a href="/{{ '' if lang != 'he' else '?lang=he' }}"
       class="footer-link"
       rel="home"
       aria-label="Home page"
       aria-current="{{ 'page' if request.url.path == '/' else 'false' }}">
      {% if lang == 'he' %}×“×£ ×”×‘×™×ª{% else %}Home{% endif %}
    </a>

    <a href="/about{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="About Fly TLV page"
       aria-current="{{ 'page' if request.url.path.startswith('/about') else 'false' }}">
      {{ "About" if lang == "en" else "×¢×œ×™× ×•" }}
    </a>

    <a href="/accessibility{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="Accessibility statement"
       aria-current="{{ 'page' if request.url.path.startswith('/accessibility') else 'false' }}">
      {{ "Accessibility" if lang == "en" else "× ×’×™×©×•×ª" }}
    </a>

    <a href="/privacy{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="Privacy policy page"
       aria-current="{{ 'page' if request.url.path.startswith('/privacy') else 'false' }}">
      {{ "Privacy" if lang == "en" else "×¤×¨×˜×™×•×ª" }}
    </a>

    <a href="/contact{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="Contact page"
       aria-current="{{ 'page' if request.url.path.startswith('/contact') else 'false' }}">
      {{ "Contact" if lang == "en" else "×¦×•×¨ ×§×©×¨" }}
    </a>

    <a href="/chat{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="AI Bot chat page"
       aria-current="{{ 'page' if request.url.path.startswith('/chat') else 'false' }}">
      {{ "AI Bot" if lang == "en" else "×‘×•×˜ AI" }}
    </a>

    <a href="/flights{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="Flights overview page"
       aria-current="{{ 'page' if request.url.path.startswith('/flights') else 'false' }}">
      {{ "Flights" if lang == "en" else "×˜×™×¡×•×ª" }}
    </a>

    <a href="/travel-warnings{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="Travel warnings page"
       aria-current="{{ 'page' if request.url.path.startswith('/travel-warnings') else 'false' }}">
      {{ "Travel Warnings" if lang == "en" else "××–×”×¨×•×ª ××¡×¢" }}
    </a>

    <a href="/map{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       aria-label="World destinations map page"
       aria-current="{{ 'page' if request.url.path.startswith('/map') else 'false' }}">
      {{ "Map" if lang == "en" else "××¤×”" }}
    </a>

    <a href="/sitemap.xml"
       class="footer-link"
       rel="sitemap"
       aria-label="Website sitemap"
       aria-current="{{ 'page' if request.url.path == '/sitemap.xml' else 'false' }}">
      {{ "Sitemap" if lang == "en" else "××¤×ª ×”××ª×¨" }}
    </a>

    <a href="/glossary{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       rel="glossary"
       aria-label="Glossary of flight terms"
       aria-current="{{ 'page' if request.url.path.startswith('/glossary') else 'false' }}">
      {{ "Glossary" if lang == "en" else "××•×©×’×™×" }}
    </a>

    <a href="/stats{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       rel="statistics"
       aria-label="Flight statistics page"
       aria-current="{{ 'page' if request.url.path.startswith('/stats') else 'false' }}">
      {{ "Statistics" if lang == "en" else "×¡×˜×˜×™×¡×˜×™×§×”" }}
    </a>

    <a href="/direct-vs-nonstop{{ '?lang=he' if lang == 'he' else '' }}"
       class="footer-link"
       rel="direct-vs-nonstop"
       aria-label="Direct versus nonstop explanation page"
       aria-current="{{ 'page' if request.url.path.startswith('/direct-vs-nonstop') else 'false' }}">
      {{ "Direct vs Nonstop" if lang == "en" else "×™×©×™×¨ ××•×œ ×œ×œ×-×¢×¦×™×¨×•×ª" }}
    </a>
	<a href="/terms{{ '?lang=he' if lang == 'he' else '' }}"
   class="footer-link"
   rel="noopener"
   hreflang="{{ lang }}"
   aria-label="{{ 'View the Terms & Conditions for Fly TLV' if lang == 'en' else '×¦×¤×” ×‘×ª× ××™× ×•×”×”×’×‘×œ×•×ª ×©×œ Fly TLV' }}"
   aria-current="{{ 'page' if request.url.path.startswith('/terms') else 'false' }}">
  {{ 'Terms & Conditions' if lang == 'en' else '×ª× ××™× ×•×”×’×‘×œ×•×ª' }}
	</a>
  </nav>
</div>

<!-- Bottom bar -->
<div class="footer-bottom py-2" aria-label="Site legal notice and copyright">
  <div class="container small text-center text-muted">
    <p class="mb-2 fw-bold text-muted" style="font-size: 1.0rem;" aria-label="Disclaimer notice">
      {% if lang == "he" %}
        âš ï¸ ×©×™××• ×œ×‘: ×”× ×ª×•× ×™× ×”××•×¦×’×™× ×‘××ª×¨ ×–×” ×”×™× × ×”×¢×¨×›×” ×‘×œ×‘×“ ×•×‘×¤×•×¢×œ ×ª×œ×•×™×™× ×‘×’×•×¨××™× ×©×•× ×™× ×©××™× × ×‘×™×“×™×¢×ª× ×•.
        ×™×© ×œ×¤×¢×•×œ ×œ×¤×™ ×”×•×¨××•×ª ×—×‘×¨×•×ª ×”×ª×¢×•×¤×” ×•×”×¨×©×•×™×•×ª ×”×¨×œ×•×•× ×˜×™×•×ª ×•××™×Ÿ ×œ×”×¡×ª××š ×¢×œ ×”××™×“×¢ ×”××•×¤×™×¢ ×‘××ª×¨ ×©×”×™× ×• ×‘×’×“×¨ ×”××œ×¦×” ×‘×œ×‘×“.
      {% else %}
        âš ï¸ Note: The information presented on this site is an estimate only and may vary depending on factors beyond our knowledge.
        Please follow airline and government authority instructions. Do not rely solely on the information here, which is provided for guidance only.
      {% endif %}
    </p>

    <div class="text-muted" style="font-size: 0.9rem;" aria-label="Copyright information">
      Â© <span id="footer-year"></span>
      <span id="footer-brand-inline">
        <a href="https://fly-tlv.com"
           class="footer-link"
           target="_blank"
           rel="noopener"
           aria-label="Fly TLV official website">
          {{ "Fly TLV â†’ Worldwide Destinations" if lang != "he" else "TLV â†’ ×›×œ ×”×™×¢×“×™× ×”×™×©×™×¨×™× ×‘×¢×•×œ×" }}
        </a>
      </span>
      <br />
      <span id="footer-rights">
        {{ "All rights reserved" if lang != "he" else "×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª" }}
      </span>
    </div>
  </div>
</div>

<div id="install-app-container" aria-label="Install Fly TLV progressive web app">
  <div class="install-app-inner">
    <button id="install-app-btn" aria-label="Install Fly-TLV App">
      ğŸ“² Install Fly-TLV App ğŸ“²
    </button>
  </div>
</div>
</footer>





  <!-- âœ… JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('theme-toggle');
      const icon = document.getElementById('theme-icon');
      const saved = localStorage.getItem('theme') || 'light';

      if (saved === 'dark') {
        document.body.classList.add('dark-mode');
        icon.className = 'bi bi-sun';
      }

      btn.addEventListener('click', () => {
        const dark = document.body.classList.toggle('dark-mode');
        localStorage.setItem('theme', dark ? 'dark' : 'light');
        icon.className = dark ? 'bi bi-sun' : 'bi bi-moon-stars';
      });
    });
  </script>
  <script>
document.addEventListener('DOMContentLoaded', () => {
  const mapModal = document.getElementById('mapModal');
  const iframe   = document.getElementById('map-frame');

  // Bootstrap event when modal is shown
  mapModal.addEventListener('shown.bs.modal', () => {
    if (!iframe.src) {
      iframe.src = iframe.dataset.src;
    }
  });

  // Optional: unload map when modal is closed (prevents multiple /map reloads in background)
  mapModal.addEventListener('hidden.bs.modal', () => {
    iframe.removeAttribute('src');
  });
});
</script>
  <!-- âœ… Map Modal -->
<div class="modal fade" id="mapModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl" style="max-width:95%">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="bi bi-map me-2"></i>
          <span id="map-title">Flight Map</span>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" style="height:80vh;overflow:hidden;padding:0">
        <iframe id="map-frame" data-src="/map" width="100%" height="100%" frameborder="0"></iframe>
      </div>
    </div>
  </div>
</div>
  {% block scripts %}{% endblock %}
  <script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("/sw.js")
        .then((reg) => {
          console.log("âœ… Service Worker registered:", reg.scope);
        })
        .catch((err) => {
          console.error("âŒ Service Worker registration failed:", err);
        });
    });
  }
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // MAP BUTTON -> show map modal
  const mapBtn = document.getElementById('view-map-btn');
  if (mapBtn) {
    mapBtn.addEventListener('click', () => {
      const mapModal = new bootstrap.Modal(document.getElementById('mapModal'));
      mapModal.show();
    });
  }

  // AI BUTTON -> redirect to chat
  const aiBtn = document.getElementById('ai-chat-btn');
  if (aiBtn) {
    aiBtn.addEventListener('click', () => {
      const lang = document.documentElement.getAttribute('lang');
      window.location.href = lang === 'he' ? '/chat?lang=he' : '/chat';
    });
  }

  // LANGUAGE BUTTON -> toggle lang param in URL
  const langBtn = document.getElementById('lang-toggle');
  if (langBtn) {
    langBtn.addEventListener('click', () => {
      const currentLang = document.documentElement.getAttribute('lang') || 'en';
      const newLang = currentLang === 'he' ? 'en' : 'he';

      const url = new URL(window.location.href);
      if (newLang === 'he') {
        url.searchParams.set('lang', 'he');
      } else {
        url.searchParams.delete('lang');
      }
      window.location.href = url.toString();
    });
  }
});
</script>
<script>
(function() {
  const url = new URL(window.location.href);
  const urlLang = url.searchParams.get('lang');
  const storedLang = localStorage.getItem('fe-lang');

  if (!urlLang && storedLang === 'he') {
    // Reload page with lang=he
    url.searchParams.set('lang', 'he');
    window.location.replace(url.toString());
  }
})();
</script>


</body>
</html>
